CREATE EXTENSION timeit;
SELECT timeit.async('pg_sleep(0.1)');
 async 
-------
     1
(1 row)

SELECT
    id,
    test_state,
    executions,
    final_result
FROM timeit.tests;
 id | test_state | executions | final_result 
----+------------+------------+--------------
  1 | init       |            |             
(1 row)

CALL timeit.work();
NOTICE:  test id 1 initialized
SELECT
    id,
    test_state,
    executions,
    final_result
FROM timeit.tests;
 id | test_state | executions | final_result 
----+------------+------------+--------------
  1 | run_test_1 |          1 |             
(1 row)

CALL timeit.work();
SELECT
    id,
    test_state,
    executions,
    final_result
FROM timeit.tests;
 id | test_state | executions | final_result 
----+------------+------------+--------------
  1 | run_test_2 |          1 |             
(1 row)

CALL timeit.work();
NOTICE:  test id 1 finalized
SELECT
    id,
    test_state,
    executions,
    final_result
FROM timeit.tests;
 id | test_state | executions | final_result 
----+------------+------------+--------------
  1 | final      |          1 |          0.1
(1 row)

